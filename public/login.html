<!DOCTYPE html>
<html lang="en">
<head>
  <title>TalentMAP Persona Selection</title>
  <style>
    a { font-size:1.5em; line-height: 3em; cursor: pointer; text-decoration: underline; color: blue }
  </style>
</head>
<body>
<div>
  <h1>Login</h1>
  <h2>Personas</h2>
  <ul>
    <li>
      <a OnClick="login('admin', 'admin');">Administrator</a>
    </li>
    <li>
      <a OnClick="login('shadtrachl', 'password');">Leah Shadtrach</a>
    </li>
    <li>
      <a OnClick="login('townpostj', 'password');">Jenny Townpost</a>
    </li>
    <li>
      <a OnClick="login('rehmant', 'password');">Tarek Rehman</a>
    </li>
    <li>
      <a OnClick="login('woodwardw', 'password');">Wendy Woodward</a>
    </li>
  </ul>
</div>
<div>
  <h2>Custom</h2>
  <form onsubmit="submitLogin(); return false;">
    <label for="username">Username</label>
    <input type="text" name="username" id="username" />
    <label for="password">Password</label>
    <input type="password" name="password" id="password" />
    <button type="submit">Submit</button>
  </form>
</div>
<script src="./jquery-2.2.4.min.js"></script>
<script>
  function login(username, password) {
    $.ajax({
      type:"POST",
      url:"%API_URL%/accounts/token/",
      data: "username=" + username + "&password=" + password,
      success: function(data) {
        window.location.href = '%PUBLIC_URL%/tokenValidation?tmApiToken=' + data.token
      },
      error: function(){
        alert('Request failed');
      },
      dataType: 'json',
    });

  };

  function submitLogin() {
    login(document.getElementById('username').value, document.getElementById('password').value);
  }
</script>
</body>
</html>
